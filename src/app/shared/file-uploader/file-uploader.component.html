
<div
    [class.uploading]="fileCondition === 'uploading'"
    [class.upload-success]="fileCondition === 'success'"
    [ngSwitch]="fileCondition"
    class="file-uploader-container">
    <div
        *ngSwitchCase="'selecting'"
        style="display: contents;">
        <input
            class="file-input"
            (change)="onFileChange($event)"
            type="file"
            #file>
        <div
            class="upload-desc">
            <svg>
                <use xlink:href="#file" />
            </svg>
            <p>Drag and Drop your file (only {{validAttachmentList}} files)</p>
            <p>or</p>
            <p>
               Click
               <span (click)="file.click()">here</span>
               to browse
            </p>
        </div>
    </div>
    <div
        *ngSwitchCase="'uploading'"
        class="uploading-progress">
        <div class="img-preview">
            <div class="img-container">
                <img
                    *ngIf="selectedFile" [src]="selectedFile"
                    alt="">
            </div>
            <span>
                {{fileName}}
            </span>
        </div>
        <div class="custom-progress-bar">
            <mat-progress-bar
                class="example-margin"
                [value]="progressBar">
            </mat-progress-bar>
            <span>
                {{progressBar}}%
            </span>
        </div>
        <div class="upload-desc">
            Uploading in progress
        </div>
    </div>
    <div
        *ngSwitchCase="'success'"
        class="upload-success">
        <div class="img-preview">
            <div class="img-container">
                <img
                    *ngIf="selectedFile" [src]="selectedFile"
                    alt="">
            </div>
        </div>
        <div class="icon">
            <svg>
                <use xlink:href="#success" />
            </svg>
        </div>
        <div class="upload-desc">
            File uploaded successfully
        </div>
    </div>
</div>

<svg style="display: none;">
    <symbol id="success">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.5752 11C1.5752 5.89137 5.71656 1.75 10.8252 1.75C15.9338 1.75 20.0752 5.89137 20.0752 11C20.0752 16.1086 15.9338 20.25 10.8252 20.25C5.71656 20.25 1.5752 16.1086 1.5752 11ZM10.8252 0.25C4.88813 0.25 0.0751953 5.06294 0.0751953 11C0.0751953 16.9371 4.88813 21.75 10.8252 21.75C16.7623 21.75 21.5752 16.9371 21.5752 11C21.5752 5.06294 16.7623 0.25 10.8252 0.25ZM15.3555 8.53033C15.6484 8.23744 15.6484 7.76256 15.3555 7.46967C15.0626 7.17678 14.5878 7.17678 14.2949 7.46967L9.8252 11.9393L8.35553 10.4697C8.06263 10.1768 7.58776 10.1768 7.29487 10.4697C7.00197 10.7626 7.00197 11.2374 7.29487 11.5303L9.29486 13.5303C9.43552 13.671 9.62628 13.75 9.8252 13.75C10.0241 13.75 10.2149 13.671 10.3555 13.5303L15.3555 8.53033Z" fill="#1BD2A4"/>
    </symbol>
    <symbol id="file">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.3951 1.62813C17.1516 1.62537 16.8671 1.62501 16.5272 1.62501H9.53613C8.12363 1.62501 7.10935 1.6256 6.31322 1.69064C5.52584 1.75498 5.0181 1.8786 4.60667 2.08824C3.80698 2.4957 3.15682 3.14587 2.74936 3.94555C2.53972 4.35698 2.41609 4.86472 2.35176 5.6521C2.28672 6.44823 2.28613 7.46251 2.28613 8.87501V25.5548C2.28613 26.9673 2.28672 27.9815 2.35176 28.7777C2.41609 29.565 2.53972 30.0728 2.74936 30.4842C3.15682 31.2839 3.80698 31.9341 4.60667 32.3415C5.0181 32.5512 5.52584 32.6748 6.31321 32.7391C7.10935 32.8042 8.12362 32.8048 9.53612 32.8048H20.1062C21.5187 32.8048 22.533 32.8042 23.3291 32.7391C24.1165 32.6748 24.6242 32.5512 25.0356 32.3415C25.8353 31.9341 26.4855 31.2839 26.893 30.4842C27.1026 30.0728 27.2262 29.565 27.2905 28.7777C27.3556 27.9815 27.3562 26.9673 27.3562 25.5548V12.3966C27.3562 12.0091 27.3557 11.6921 27.3518 11.4252C27.3269 11.4277 27.3015 11.429 27.2759 11.429H21.3424H21.312H21.3119C20.7778 11.429 20.332 11.429 19.9677 11.3992C19.5879 11.3682 19.2312 11.3011 18.8939 11.1293C18.3765 10.8656 17.9558 10.4449 17.6921 9.92746C17.5203 9.59019 17.4532 9.23354 17.4221 8.85365C17.3924 8.48942 17.3924 8.04357 17.3924 7.50942V7.47898V1.69201C17.3924 1.67049 17.3933 1.64918 17.3951 1.62813ZM27.1801 9.92898C27.0724 9.56678 26.9169 9.22024 26.7173 8.89865C26.4603 8.48454 26.0982 8.12141 25.1911 7.22881L21.6121 3.70721C20.7249 2.83424 20.3641 2.4859 19.9557 2.23878C19.6236 2.03789 19.2659 1.88354 18.8924 1.77987V7.47898C18.8924 8.05141 18.893 8.43563 18.9172 8.73151C18.9406 9.01863 18.9825 9.15591 19.0287 9.24647C19.1485 9.48167 19.3397 9.6729 19.5749 9.79274C19.6655 9.83888 19.8028 9.88077 20.0899 9.90423C20.3858 9.9284 20.77 9.92898 21.3424 9.92898H27.1801ZM19.0844 0.280648C18.4282 0.124801 17.741 0.12488 16.625 0.125007L16.5272 0.125015H9.53613L9.50257 0.125014C8.13085 0.12501 7.05542 0.125006 6.19107 0.195626C5.31093 0.267537 4.58382 0.416393 3.92569 0.751727C2.84376 1.303 1.96412 2.18264 1.41285 3.26457C1.07751 3.9227 0.928655 4.64981 0.856745 5.52995C0.786125 6.3943 0.786128 7.46973 0.786133 8.84145V8.87501V25.5548V25.5883C0.786128 26.96 0.786125 28.0355 0.856745 28.8998C0.928655 29.78 1.07751 30.5071 1.41285 31.1652C1.96412 32.2471 2.84376 33.1268 3.92569 33.678C4.58382 34.0134 5.31093 34.1622 6.19107 34.2341C7.0554 34.3048 8.13081 34.3048 9.5025 34.3048H9.50255H9.53612H20.1062H20.1398H20.1398C21.5115 34.3048 22.5869 34.3048 23.4512 34.2341C24.3314 34.1622 25.0585 34.0134 25.7166 33.678C26.7986 33.1268 27.6782 32.2471 28.2295 31.1652C28.5648 30.5071 28.7137 29.78 28.7856 28.8998C28.8562 28.0355 28.8562 26.9601 28.8562 25.5884V25.5883V25.5548V12.3966L28.8562 12.2964C28.8563 11.1555 28.8564 10.453 28.694 9.78387C28.5503 9.19144 28.3132 8.62564 27.9918 8.10767C27.6287 7.52261 27.1279 7.02997 26.3145 6.22985L26.2431 6.1596L22.6641 2.63801L22.5943 2.56934C21.7989 1.78653 21.3092 1.30452 20.7322 0.955407C20.2213 0.646288 19.6653 0.418639 19.0844 0.280648ZM14.2951 15.0463C14.587 14.7591 15.0553 14.7591 15.3472 15.0463L19.4988 19.1313C19.794 19.4218 19.7978 19.8966 19.5073 20.1919C19.2168 20.4871 18.742 20.491 18.4467 20.2005L15.5712 17.3711V25.3848C15.5712 25.799 15.2354 26.1348 14.8212 26.1348C14.4069 26.1348 14.0712 25.799 14.0712 25.3848V17.3711L11.1956 20.2005C10.9004 20.491 10.4255 20.4871 10.135 20.1919C9.84447 19.8966 9.84831 19.4218 10.1436 19.1313L14.2951 15.0463Z" fill="#334BFA"/>
    </symbol>
</svg>
